(this["webpackJsonpyalantis-test"]=this["webpackJsonpyalantis-test"]||[]).push([[0],{55:function(e,t,s){"use strict";s.r(t);var r,a=s(1),n=s(0),c=s.n(n),i=s(6),l=s.n(i),o=s(5),u=s(7),d=function(e,t){return e.lastName<t.lastName?-1:e.lastName>t.lastName?1:0},m=function(e,t){var s=new Date(e.dob),r=new Date(t.dob);return s.getMonth()<r.getMonth()?-1:s.getMonth()>r.getMonth()?1:0},h=function(e,t){var s=new Date(e.dob),r=new Date(t.dob);return s.getDate()<r.getDate()?-1:s.getDate()>r.getDate()?1:0},j=s(3),b=s.n(j),p=(b.a.shape({id:b.a.string.isRequired,firstName:b.a.string.isRequired,lastName:b.a.string.isRequired,dob:b.a.string.isRequired}),"LOAD_USERS"),f="TOGGLE_USER_TO_SELECTED",O=function(e){return{type:p,payload:e}},y=function(e){return{type:f,payload:e}},g=function(e){var t=e.users,s=e.selectedUsers,r=Object(u.a)(Array(26)).map((function(e,t){return String.fromCharCode(t+65)})).join("").split(""),i=Object(n.useRef)(null),l=Object(o.b)();return Object(a.jsxs)("div",{className:"employee",children:[Object(a.jsx)("h2",{className:"employee__title title",children:"Employees"}),Object(a.jsx)("ul",{className:"users-list",children:r.map((function(e,r){return Object(a.jsxs)("li",{className:"users-item",children:[Object(a.jsx)("h3",{className:"users__letter",children:e}),t.sort(d).map((function(t,r){return t.lastName.startsWith(e)&&Object(a.jsx)(c.a.Fragment,{children:Object(a.jsxs)("label",{className:"user-item__name",children:["".concat(t.lastName," ").concat(t.firstName),Object(a.jsx)("input",{className:"user-item__input visually-hidden",ref:i,type:"checkbox",value:t.id,checked:s.some((function(e,s){return e.id===t.id})),onChange:function(){return l(y(t))}}),Object(a.jsx)("span",{className:"user-item__checkbox"})]})},t.id)})),!t.some((function(t,s){return t.lastName.startsWith(e)}))&&Object(a.jsx)("p",{children:"-----"})]},r)}))})]})},N=s(8),x=s.n(N),v=function(e){var t=e.selectedUsers,s=t.sort(m),r=new Array(t.length).fill().map((function(e,t){return x()(s[t].dob).format("MMMM")})),n=Array.from(new Set(r));return Object(a.jsxs)("div",{className:"employees-birthday",children:[Object(a.jsx)("h2",{className:"employees-birthday__title title",children:"Employees birthday"}),0===t.length?Object(a.jsx)("p",{className:"employees-birthday__empty",children:"No selected employees"}):n.map((function(e,s){return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)("h3",{children:e}),Object(a.jsx)("ul",{className:"birthday-list",children:t.sort(h).map((function(t,s){return x()(t.dob).format("MMMM")===e&&Object(a.jsx)("li",{className:"birthday-item",children:"".concat(t.lastName," ").concat(t.firstName," - ").concat(x()(t.dob).format("DD MMMM, YYYY")," year")},t.id)}))})]},e)}))]})},U=function(){var e=Object(o.c)((function(e){return{users:e.users,selectedUsers:e.selectedUsers}})),t=e.users,s=e.selectedUsers;return window.localStorage.setItem("selectedUsers",JSON.stringify(s)),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(g,{users:t,selectedUsers:s}),Object(a.jsx)(v,{selectedUsers:s})]})},_=s(22),M=s.n(_),w=JSON.parse(localStorage.getItem("selectedUsers")),D={users:[],selectedUsers:null===w?[]:w},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object.assign({},e,{users:t.payload});case f:var s=e.selectedUsers.findIndex((function(e){return e.id===t.payload.id}));return-1===s?Object.assign({},e,{selectedUsers:[].concat(Object(u.a)(e.selectedUsers),[t.payload])}):Object.assign({},e,{selectedUsers:e.selectedUsers.filter((function(e,t){return t!==s}))});default:return e}},E=s(23),R=s(4),k=s(24),A=function(){var e=M.a.create({baseURL:"https://yalantis-react-school-api.yalantis.com/api/task0",timeout:5e3,withCredentials:!1});return e.interceptors.response.use((function(e){return e}),(function(e){throw e})),e}(),C=localStorage.getItem("todos");C&&(r={todos:JSON.parse(C)});var I=Object(R.createStore)(S,r,Object(E.composeWithDevTools)(Object(R.applyMiddleware)(k.a.withExtraArgument(A))));Promise.all([I.dispatch((function(e,t,s){return s.get("/users").then((function(t){var s=t.data;return e(O(s))}))}))]).then((function(){l.a.render(Object(a.jsx)(o.a,{store:I,children:Object(a.jsx)(U,{})}),document.getElementById("root"))})).catch((function(){}))}},[[55,1,2]]]);
//# sourceMappingURL=main.d7911056.chunk.js.map