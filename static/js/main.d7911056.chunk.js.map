{"version":3,"sources":["index.js","utils.js","store/action.js","components/employees-list/user-props.js","components/employees-list/employees-list.jsx","components/birthdays-of-selected-employees/birthdays-of-selected-employees.jsx","components/app/app.jsx","store/reducer.js","services/api.js","store/api-action.js"],"names":["preloadedState","sortArray","a","b","lastName","sortByMonth","date1","Date","dob","date2","getMonth","sortByDay","getDate","ActionType","PropTypes","shape","id","string","isRequired","firstName","ActionCreator","users","type","payload","user","EmployeesList","props","selectedUsers","alphabet","Array","map","_","y","String","fromCharCode","join","split","inputRef","useRef","dispatch","useDispatch","className","letter","i","sort","startsWith","Fragment","ref","value","checked","some","item","onChange","BirthdaysOfSelectedEmployees","sortedSelectedUsersByMonth","allMonth","length","fill","moment","format","uniqMonth","from","Set","month","App","useSelector","state","window","localStorage","setItem","JSON","stringify","selectedUsersFromLocalStorage","parse","getItem","initialState","reducer","action","Object","assign","index","findIndex","filter","api","axios","create","baseURL","timeout","withCredentials","interceptors","response","use","err","createAPI","persistedTodosString","todos","store","createStore","composeWithDevTools","applyMiddleware","thunk","withExtraArgument","Promise","all","_getState","get","then","data","ReactDOM","render","document","getElementById","catch"],"mappings":"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","file":"static/js/main.d7911056.chunk.js","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/app/app';\nimport {createAPI} from \"./services/api\";\nimport reducer from \"./store/reducer\";\nimport {composeWithDevTools} from \"redux-devtools-extension\";\nimport {applyMiddleware, createStore} from \"redux\";\nimport thunk from 'redux-thunk';\nimport { Provider } from 'react-redux';\nimport {fetchUsersList} from \"./store/api-action\";\n\nconst api = createAPI();\nlet preloadedState;\nconst persistedTodosString = localStorage.getItem('todos');\n\nif (persistedTodosString) {\n  preloadedState = {\n    todos: JSON.parse(persistedTodosString)\n  }\n}\n\nconst store = createStore(\n  reducer,\n  preloadedState,\n  composeWithDevTools(\n    applyMiddleware(thunk.withExtraArgument(api))\n  )\n);\n\nPromise.all([\n  store.dispatch(fetchUsersList())\n])\n.then(() => {\n  ReactDOM.render(\n    <Provider store={store}>\n      <App />\n    </Provider>,\n    document.getElementById('root')\n  );\n})\n.catch(() =>{});\n","export const extend = (a, b) => {\n  return Object.assign({}, a, b);\n};\n\nexport const sortArray = (a, b) => {\n  if (a.lastName < b.lastName) {\n    return -1;\n  }\n  if (a.lastName > b.lastName) {\n    return 1;\n  }\n  return 0;\n};\n\nexport const sortByMonth = (a, b) => {\n  const date1 = new Date(a.dob);\n  const date2 = new Date(b.dob);\n\n  if (date1.getMonth() < date2.getMonth()) {\n    return -1;\n  }\n  if (date1.getMonth() > date2.getMonth()) {\n    return 1;\n  }\n  return 0;\n};\n\nexport const sortByDay = (a, b) => {\n  const date1 = new Date(a.dob);\n  const date2 = new Date(b.dob);\n\n  if (date1.getDate() < date2.getDate()) {\n    return -1;\n  }\n  if (date1.getDate() > date2.getDate()) {\n    return 1;\n  }\n  return 0;\n};","export const ActionType = {\n  LOAD_USERS: `LOAD_USERS`,\n  TOGGLE_USER_TO_SELECTED: `TOGGLE_USER_TO_SELECTED`,\n};\n\nexport const ActionCreator = {\n  loadUsers: (users) => ({\n    type: ActionType.LOAD_USERS,\n    payload: users,\n  }),\n  addUserToSelected: (user) => ({\n    type: ActionType.TOGGLE_USER_TO_SELECTED,\n    payload: user,\n  }),\n};","import PropTypes from \"prop-types\";\n\nexport default PropTypes.shape({\n  id: PropTypes.string.isRequired,\n  firstName: PropTypes.string.isRequired,\n  lastName: PropTypes.string.isRequired,\n  dob: PropTypes.string.isRequired,\n});","import React, {useRef} from \"react\";\nimport PropTypes from \"prop-types\";\nimport {useDispatch} from \"react-redux\";\nimport {sortArray} from \"../../utils\";\nimport userPropTypes from \"./user-props\";\nimport {ActionCreator} from \"../../store/action\";\n\nconst EmployeesList = (props) => {\n  const {users, selectedUsers} =  props;\n  const alphabet = [...Array(26)].map((_, y) => String.fromCharCode(y + 65)).join('').split(\"\");\n  const inputRef = useRef(null);\n  const dispatch = useDispatch();\n\n  return (\n    <div className=\"employee\">\n      <h2 className=\"employee__title title\">Employees</h2>\n      <ul className=\"users-list\">\n        {alphabet.map((letter, i) => (\n          <li className=\"users-item\" key={i}>\n            <h3 className=\"users__letter\">\n              {letter}\n            </h3>\n            {\n              users.sort(sortArray).map((user, i) => (\n                user.lastName.startsWith(letter) &&\n                <React.Fragment key={user.id}>\n                  <label className=\"user-item__name\">\n                    {`${user.lastName} ${user.firstName}`}\n                    <input\n                      className=\"user-item__input visually-hidden\"\n                      ref={inputRef} \n                      type=\"checkbox\" \n                      value={user.id} \n                      checked={selectedUsers.some((item, i) => item.id === user.id)}\n                      onChange={() => dispatch(ActionCreator.addUserToSelected(user))}\n                    />\n                    <span className=\"user-item__checkbox\"></span>\n                  </label>\n                </React.Fragment>\n              ))\n            }\n            {\n              !users.some((user, i) => (\n                user.lastName.startsWith(letter)\n              )) && <p>-----</p>\n            }\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nEmployeesList.propTypes = {\n  users: PropTypes.arrayOf(userPropTypes).isRequired,\n  selectedUsers: PropTypes.arrayOf(userPropTypes).isRequired,\n}\n\nexport default EmployeesList;","import React from \"react\";\nimport {sortByMonth, sortByDay} from \"../../utils\";\nimport moment from \"moment\";\nimport PropTypes from \"prop-types\";\nimport userPropTypes from \"../employees-list/user-props\";\n\nconst BirthdaysOfSelectedEmployees = (props) => {\n  const {selectedUsers} =  props;\n  const sortedSelectedUsersByMonth =  selectedUsers.sort(sortByMonth);\n  const allMonth = new Array(selectedUsers.length).fill().map((item, i) => moment(sortedSelectedUsersByMonth[i].dob).format(`MMMM`));\n  const uniqMonth = Array.from(new Set(allMonth));\n\n  return (\n    <div className=\"employees-birthday\">\n      <h2 className=\"employees-birthday__title title\">Employees birthday</h2>\n        {selectedUsers.length === 0 \n          ? <p className=\"employees-birthday__empty\">No selected employees</p>\n          : uniqMonth.map((month, i) => (\n            <React.Fragment key={month}>\n              <h3>{month}</h3>\n              <ul className=\"birthday-list\">\n                {selectedUsers.sort(sortByDay).map((user, i) => (\n                  moment(user.dob).format(`MMMM`) === month && \n                  <li key={user.id} className=\"birthday-item\">\n                    {`${user.lastName} ${user.firstName} - ${moment(user.dob).format(`DD MMMM, YYYY`)} year`}\n                  </li>\n                ))}\n              </ul>\n            </React.Fragment>\n          ))\n        }\n    </div>\n  );\n};\n\nBirthdaysOfSelectedEmployees.propTypes = {\n  selectedUsers: PropTypes.arrayOf(userPropTypes).isRequired,\n}\n\nexport default BirthdaysOfSelectedEmployees;","import React from \"react\";\nimport {useSelector} from \"react-redux\";\nimport EmployeesList from \"../employees-list/employees-list\";\nimport BirthdaysOfSelectedEmployees from \"../birthdays-of-selected-employees/birthdays-of-selected-employees\";\n\nconst App = () => {\n  const {users, selectedUsers} =  useSelector((state) => ({\n    users: state.users,\n    selectedUsers: state.selectedUsers\n  }));\n  window.localStorage.setItem(\"selectedUsers\", JSON.stringify(selectedUsers));\n\n  return (\n    <>\n      <EmployeesList users={users} selectedUsers={selectedUsers} />\n      <BirthdaysOfSelectedEmployees selectedUsers={selectedUsers}/>\n    </>\n  );\n};\n\nexport default App;","import {ActionType} from \"./action\";\n\nconst selectedUsersFromLocalStorage = JSON.parse(localStorage.getItem(\"selectedUsers\"));\n\nconst initialState = {\n  users: [],\n  selectedUsers: selectedUsersFromLocalStorage === null ? [] : selectedUsersFromLocalStorage,\n};\n\nconst reducer = (state = initialState, action) => {\n  switch(action.type) {\n    case ActionType.LOAD_USERS:\n      return Object.assign({}, state, {\n        users: action.payload,\n      });\n    case ActionType.TOGGLE_USER_TO_SELECTED:\n      const index = state.selectedUsers.findIndex((user) => user.id === action.payload.id);\n      return index === -1 \n      ? Object.assign({}, state, {\n        selectedUsers: [...state.selectedUsers, action.payload],\n      })\n      : Object.assign({}, state, {\n        selectedUsers: state.selectedUsers.filter((user, i) => i !== index),\n      })\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","import axios from \"axios\";\n\nconst BACKEND_URL = `https://yalantis-react-school-api.yalantis.com/api/task0`;\nconst REQUEST_TIMEOUT = 5000;\n\nexport const createAPI = () => {\n  const api = axios.create({\n    baseURL: BACKEND_URL,\n    timeout: REQUEST_TIMEOUT,\n    withCredentials: false,\n  });\n\n  const onSuccess = (response) => response;\n\n  const onFail = (err) => {\n    throw err;\n  };\n\n  api.interceptors.response.use(onSuccess, onFail);\n\n  return api;\n};","import {ActionCreator} from \"./action\";\n\nexport const fetchUsersList = () => (dispatch, _getState, api) => (\n  api.get(`/users`)\n  .then(({data}) => dispatch(ActionCreator.loadUsers(data)))\n);"],"sourceRoot":""}